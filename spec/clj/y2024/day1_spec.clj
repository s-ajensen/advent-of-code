(ns y2024.day1-spec
  (:require [speclj.core :refer :all]
            [y2024.day1 :as sut]))

(def in "3   4\n4   3\n2   5\n1   3\n3   9\n3   3")

(def real "27484   55634\n67560   75018\n43926   95501\n86974   55714\n71747   78366\n28088   62509\n34772   15990\n29824   96324\n29947   57910\n98288   14717\n65056   92495\n51274   95004\n77249   83538\n47027   63476\n38391   61559\n70732   87324\n48005   31948\n78366   18349\n61139   70973\n73910   47466\n20206   14717\n22102   96393\n88580   13914\n54397   95954\n49998   14239\n61967   34634\n12345   14607\n41314   78200\n21798   23855\n98407   80316\n86141   19452\n73311   49491\n81862   87593\n95566   96160\n87351   52582\n15848   49491\n51788   65164\n35997   33641\n47658   55714\n81744   95501\n47851   18884\n43111   83702\n11414   70973\n40636   52220\n27695   93149\n81110   96694\n44831   48192\n58200   15065\n88294   41889\n16039   63631\n59282   62165\n69211   62894\n52748   27053\n52668   47769\n43520   76755\n28943   80470\n24548   55714\n67129   34601\n53243   55790\n65561   78366\n82182   95501\n49274   74658\n15952   33194\n60418   12345\n27775   46593\n73493   43900\n52098   95501\n27121   31096\n81056   12550\n28121   83702\n30348   52220\n56433   39771\n25161   81388\n83995   60545\n57450   58448\n52600   91287\n77850   36836\n37216   41677\n98526   41677\n90655   95125\n45217   42384\n69053   36037\n13539   17117\n89360   26136\n84311   49087\n87153   25849\n24300   76566\n23519   84695\n28852   42384\n53355   42384\n42582   47375\n26552   14607\n75913   44442\n53485   31831\n34601   42384\n76249   90670\n94920   28575\n72323   55714\n69403   83702\n95672   99168\n26935   30972\n87512   41677\n61615   46189\n74695   65158\n20200   84691\n19304   14239\n68077   52722\n10582   52930\n27335   49491\n37584   63132\n73196   54501\n16502   26753\n91474   69512\n54822   56271\n71321   89918\n41518   27775\n87096   95501\n21202   18798\n93142   56489\n38047   52220\n24517   96289\n44312   85343\n33144   41677\n77684   45037\n80588   14717\n67107   15065\n54896   28328\n51770   49491\n45857   46189\n46481   98951\n47496   99168\n28125   33812\n14980   41468\n51789   36618\n12986   27053\n25765   53516\n74251   12345\n78770   55714\n55011   12550\n29165   61671\n17728   27121\n33981   25499\n36823   91585\n39673   86789\n91903   32719\n19472   75443\n26800   98823\n37852   56489\n14040   10534\n55052   81862\n65668   21798\n89327   53241\n76888   55541\n70948   94956\n12472   29025\n14831   18426\n22665   35540\n22214   83730\n89577   78366\n81023   15782\n84429   46189\n75394   30972\n42076   37915\n68351   56261\n62000   83702\n17132   55865\n41051   15065\n76577   14898\n72700   62031\n21580   17436\n20635   61587\n62682   99808\n96847   51695\n79918   86863\n80975   14717\n72024   49491\n29236   66208\n82592   52603\n40379   26136\n22464   78366\n53246   78366\n92362   15065\n67933   96790\n83285   20525\n32355   46189\n72419   26136\n54766   27053\n44778   79069\n97706   14239\n14239   30166\n61196   80805\n49491   52600\n14607   56489\n54850   52600\n71449   56271\n27968   72844\n33242   79185\n44321   58952\n97596   10417\n82906   39771\n14319   76755\n46189   41677\n49649   30451\n24148   27053\n34109   27542\n81217   26136\n25414   30869\n75794   52220\n15200   34601\n95299   40426\n39732   95501\n87884   56489\n15317   14607\n21193   45220\n15090   54970\n21390   47973\n21698   96819\n56575   39771\n84593   52529\n83880   67718\n36664   17626\n42212   29641\n27053   62894\n84601   68684\n77818   89330\n44608   80231\n56932   44013\n93674   27002\n79048   58758\n88828   14239\n11883   94737\n36014   64083\n12590   56489\n76559   14717\n39043   14308\n82003   50086\n20407   11695\n10048   97014\n31281   56489\n28063   14607\n45813   20651\n18006   26237\n95040   39721\n62587   12345\n28094   39855\n29580   62165\n72853   56271\n39380   70973\n50190   84946\n86034   27121\n26295   33303\n22364   89399\n73757   35446\n45106   39771\n91186   49491\n30056   16061\n91866   44972\n89436   70973\n73210   98851\n62546   21798\n40469   71876\n55116   39771\n11849   25343\n77677   26646\n61244   28328\n26136   47460\n81481   96095\n72429   95501\n76056   43102\n35895   81862\n68089   70973\n18171   10254\n63514   47079\n97499   46286\n75403   42053\n36977   66988\n96237   27121\n29452   14239\n98034   62087\n42417   42384\n57358   96303\n60023   70973\n72118   21798\n85974   52179\n80417   48291\n13977   95222\n71082   81166\n44648   78723\n72171   22884\n70404   39721\n54381   22466\n72013   98147\n51192   41677\n14717   27121\n23855   76432\n48675   52568\n83605   56271\n31420   39046\n83753   82417\n10437   85385\n58483   41819\n69788   22488\n81921   76901\n56676   16456\n42129   70973\n21405   72092\n54273   69258\n63042   15363\n11660   33440\n64263   78366\n11027   45210\n47012   95501\n94401   24684\n27499   52220\n70973   77153\n47772   65651\n35646   22660\n16154   21798\n91790   46189\n50094   39771\n80579   12550\n49745   11236\n18137   39771\n79817   28328\n18437   34601\n46949   86449\n60816   14607\n35903   78067\n17915   83702\n57636   65003\n97265   11452\n54184   36155\n72211   25782\n50122   47994\n98895   41013\n83261   20279\n61814   34534\n41074   36291\n25545   85422\n69677   52406\n32198   70431\n90218   81862\n32063   64251\n26348   10652\n23459   14607\n19924   34601\n12755   49937\n75332   60524\n20426   52220\n33510   30972\n32520   12550\n50821   55735\n45619   34202\n30651   23203\n23288   68443\n26097   47344\n35967   99640\n13374   95501\n35414   42860\n67278   72844\n34100   78366\n26440   86108\n55848   60623\n60238   81862\n11578   44985\n53675   90447\n95139   81862\n53655   62281\n75061   94900\n25717   73969\n96718   42384\n60846   30964\n31991   28328\n41677   24873\n81456   52220\n62569   17266\n14572   74256\n47381   75269\n84958   52000\n85437   55316\n12693   33934\n56021   32349\n55744   36104\n68582   35349\n15330   58662\n94099   74304\n89771   38629\n52313   91593\n56489   36751\n50298   14607\n74104   30972\n29286   95154\n24482   52890\n82812   73820\n13182   48739\n15225   56489\n78417   14559\n83094   75319\n26751   52220\n92253   92873\n34340   21675\n73732   99240\n91045   78366\n52416   21810\n13671   28234\n33612   63254\n56971   78620\n40346   14469\n72844   42239\n94947   15446\n86520   52600\n75495   35748\n87108   76509\n61901   15436\n85022   76755\n51692   23336\n97087   12550\n17780   59480\n78024   78380\n82627   27053\n86867   57333\n14770   76094\n99690   91971\n37970   95357\n38091   81688\n93808   49007\n19623   75999\n62514   70973\n39354   66691\n18731   23385\n20182   14768\n96893   48182\n93703   90234\n32281   27775\n44738   57322\n34416   58353\n99168   14717\n60552   14239\n62143   34601\n34660   63426\n11505   83250\n24137   98026\n69957   63990\n32792   53572\n55146   25974\n24998   11925\n45008   72844\n55840   25161\n56271   73804\n51951   78366\n23366   79173\n94193   85825\n67623   15313\n35037   64946\n13330   52600\n31163   28328\n87613   70973\n40427   47478\n90416   95501\n81180   46847\n82377   30972\n64803   15065\n62137   76755\n28226   40028\n12419   81544\n14256   56271\n74284   56489\n63856   49491\n12114   42384\n23305   80995\n99115   65077\n38426   21798\n87398   52600\n92158   56086\n39006   62303\n17021   34601\n11701   27121\n31448   12345\n78513   48079\n85920   55714\n93843   56271\n30287   92370\n78384   23855\n41990   56271\n11317   33003\n30841   14239\n10135   21798\n85875   25747\n65006   60774\n19493   56489\n29916   52220\n12137   74754\n13493   14239\n36868   52600\n19718   41677\n73983   27775\n79278   20613\n70849   27053\n43543   49191\n69664   81862\n36211   80089\n69076   82040\n50555   34022\n16277   85672\n86854   14607\n18173   35936\n15367   11444\n87778   81574\n85537   55714\n29202   48397\n65597   74632\n94036   70973\n40995   29041\n57002   72844\n31037   96364\n62138   77922\n23493   35039\n32543   89711\n13649   14616\n45082   62165\n39931   65090\n54328   86139\n90435   46008\n98509   44592\n40846   62165\n12273   72080\n70078   27412\n69792   72844\n71552   42384\n43202   76147\n23140   21798\n26364   65427\n34210   99168\n47040   70973\n29563   70973\n35773   12443\n52323   51861\n37176   51073\n97815   30972\n43884   61678\n94682   91679\n82836   72844\n89878   24424\n39807   26674\n42368   70973\n13016   79932\n89249   37967\n65121   52600\n20487   99240\n24970   42384\n30802   56489\n65040   86672\n28328   62894\n52220   32030\n26818   52770\n65282   14717\n78164   11443\n46968   93881\n78981   80725\n18980   60551\n30648   49335\n51633   72639\n31442   62165\n63174   50347\n44998   39721\n60294   34601\n33509   52600\n28215   65043\n76076   78196\n64908   72844\n17601   36315\n33308   86175\n79813   43976\n89994   14239\n35315   42384\n67669   42384\n73099   92031\n25168   12345\n71490   10167\n58441   86468\n28299   60466\n64607   48514\n34983   11600\n96817   99168\n13045   49648\n71656   90046\n26886   28328\n60587   23855\n75130   15065\n86187   55320\n85198   76755\n33243   35621\n43027   56271\n38691   62908\n49403   32551\n45353   26068\n18425   49491\n18026   65599\n39076   14316\n28212   85487\n18907   54021\n71135   42384\n13958   12513\n53937   52594\n12712   19297\n63297   32234\n50764   31236\n95321   94041\n97757   21838\n72342   37352\n62894   14717\n71239   78366\n77659   96018\n63198   97837\n84364   19753\n61075   62165\n51222   70973\n24995   44001\n16599   41677\n86925   21798\n99048   64924\n13542   43682\n12591   34601\n25905   70973\n32208   34954\n22133   23030\n41575   28240\n59604   56374\n16836   95558\n31682   81033\n69364   30518\n82188   70973\n41914   62165\n45576   15065\n25079   64408\n81537   28328\n46462   34601\n66551   66708\n26591   27053\n77328   39771\n33985   34601\n33418   34601\n91080   82492\n61568   42887\n57867   74914\n84472   28817\n12654   85938\n70565   40779\n42550   78366\n51259   32921\n13169   59335\n65905   99168\n15805   12345\n90109   34718\n76980   82815\n57913   76636\n72381   30945\n70281   34601\n78134   37240\n37955   81295\n93173   33484\n74086   67805\n58167   49073\n40765   80068\n23790   18371\n33592   17145\n78454   80589\n15430   90417\n67945   94168\n64241   39721\n83702   93602\n46375   21798\n26342   46958\n34863   41677\n19482   95501\n34284   35957\n38000   37717\n98157   49491\n15930   52600\n64693   52600\n12550   89557\n51953   21798\n77269   61755\n13652   15065\n86840   26806\n52314   98399\n98333   81977\n40687   56489\n35046   65010\n59975   62507\n72833   24038\n14044   34601\n71828   34601\n40577   40279\n51481   76591\n80118   21709\n55714   52220\n24410   59302\n99412   94355\n35437   38777\n48548   75281\n84964   25359\n75235   47933\n21303   61504\n83551   28328\n52760   23895\n85000   12345\n56259   27053\n42764   49491\n11312   27053\n24461   46255\n27237   56271\n58802   96584\n55301   52220\n74259   14607\n56046   33277\n19866   75075\n73679   72844\n33891   70345\n45639   56271\n54195   23454\n95097   30972\n57914   29726\n59298   51050\n89370   21638\n76504   78721\n56108   27053\n29130   52600\n33712   55714\n25154   39018\n96503   95501\n98909   52220\n40872   43009\n82776   25161\n63510   34743\n26533   41677\n56079   42554\n39398   28328\n47768   29475\n20341   63539\n99994   66314\n10110   52220\n57700   30972\n30209   18563\n94995   51083\n44918   49491\n66796   81231\n51995   27053\n77354   77076\n93013   11025\n54620   14607\n92444   97003\n93849   95582\n49161   37280\n28949   27053\n37715   56489\n23904   95501\n73156   31922\n42384   62165\n17773   83547\n58155   64695\n54490   41677\n56486   95501\n97223   42384\n32955   28233\n25281   32491\n15737   61928\n35697   87569\n18244   21823\n42515   15065\n40947   14886\n93475   32452\n14131   27775\n67547   56489\n95089   27728\n43557   26309\n11037   53226\n34322   15776\n22250   98902\n71266   70973\n89572   87812\n90169   84461\n17372   14607\n65790   34601\n27576   83702\n37101   90585\n73468   52600\n39721   67883\n65682   78366\n47073   30972\n90895   18187\n43637   60451\n78516   28328\n21073   62894\n92011   18396\n46069   30730\n26851   52072\n47448   71619\n65439   52600\n29023   52220\n51855   41677\n65553   25161\n80536   65615\n16678   56489\n90651   70973\n19633   34601\n93746   80330\n70591   52600\n94422   96655\n33657   77648\n52974   25161\n13630   51573\n69196   94233\n79490   56271\n32250   81862\n66530   60802\n32790   54374\n17127   34741\n92015   62894\n28249   55714\n65102   52600\n91455   20887\n64033   28328\n24017   56271\n45651   14607\n60117   86054\n96785   27053\n50649   95501\n15436   22503\n65914   69007\n36166   56271\n78692   67504\n91558   15065\n49051   73240\n66543   55714\n95701   85539\n38010   18771\n45785   95501\n64305   84004\n47125   66585\n66807   64152\n53798   26097\n39771   71764\n31704   30702\n62165   37200\n65163   52600\n29324   29029\n60646   39771\n91668   65672\n70470   15065\n49620   14247\n73173   18620\n50390   36512\n89026   99202\n81234   82629\n45456   62894\n39896   27600\n56209   95501\n48104   40539\n62372   99003\n39333   56271\n79867   72035\n95279   47366\n52605   28328\n75787   88930\n84796   49491\n38805   27053\n45963   11986\n27579   34906\n90333   76755\n32386   99055\n14026   43550\n19291   72844\n77541   70973\n99587   55340\n31439   95942\n42133   16863\n44755   99168\n85828   46189\n42114   40119\n59161   91883\n43113   52600\n19801   59337\n99100   42384\n65884   14239\n54308   26731\n65747   22856\n29500   78366\n41826   25161\n85615   62894\n70557   28328\n95815   45495\n87262   70230\n83658   88861\n81087   95501\n90172   15065\n89905   83702\n76914   99725\n97931   27736\n33944   78366\n12857   13437\n31425   18052\n47737   52600\n54370   88914\n30972   52220\n95939   93458\n65658   14144\n56393   13271\n19853   65648\n88897   76222\n82340   34601\n84119   49301\n56333   76755\n63170   41677\n46323   41823\n25888   46298\n93367   11280\n63331   44705\n16400   60268\n54046   56271\n47922   97212\n32747   76755\n29791   21741\n71231   42384\n57799   52220\n89922   16019\n58351   15436\n49144   46189\n44735   27121\n48818   49491\n73875   56271\n88792   56489\n95437   24568\n16461   39771\n47343   31753\n12386   76932\n91444   37078\n89445   12345\n24720   27053\n76245   67447\n53193   52600\n81174   78366\n62085   31757\n63488   42384\n25099   34473\n45860   46189\n59677   27053\n85517   52654\n38418   98942\n95501   24726\n21940   98584\n88869   11941\n15733   45484\n28860   21798\n65805   78366\n92611   30972\n73443   30972\n68225   77281\n59098   74187\n94473   49491\n45560   34601\n14714   47592\n72384   41677\n16713   14239\n59990   69119\n10894   76150\n32150   12345\n91101   92795\n87562   14607\n86572   57058\n15065   19835\n83303   56887\n96607   49491\n36622   76755\n52276   25566\n99240   99330\n46404   52220\n62733   83417\n67070   28328\n36323   76755\n14422   29889\n76755   52600\n76212   77863\n68464   62165\n69048   21798\n78830   89470\n92884   52220\n73029   72758\n73783   30562\n20321   27053\n23224   54765\n16276   28328\n10461   36193\n17913   18463\n28947   27143\n23436   56489\n18265   42384\n72046   30416\n61316   42384\n70861   52220\n")

(describe "day 1"

  (context "parses list"

    (it "single line"
      (should= [[3]
                [4]]
        (sut/parse "3   4")))

    (it "full"
      (should= [[3 4 2 1 3 3]
                [4 3 5 3 9 3]]
        (sut/parse in))))

  (context "pt 1"

    (context "distances"


      (it "calculated for lists"
        (should= [1 2 3]
          (sut/distances [[3 4 5] [2 2 2]])))

      (it "calculated for negative values"
        (should= [1 2 3]
          (sut/distances [[2 2 2] [3 4 5]])))

      (it "calculated for unsorted lists"
        (should= [5 4 3]
          (sut/distances [[3 4 5] [8 8 8]]))))

    (it "solves sample"
      (should= 11 (sut/pt-1 in)))

    (it "solves real"
      (should= 2031679 (sut/pt-1 real))))

  (context "pt 2"

    (it "solves sample"
      (should= 31 (sut/pt-2 in)))

    (it "solves real"
      (should= 19678534 (sut/pt-2 real)))))
